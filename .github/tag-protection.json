{
  "tag_protection_rules": [
    {
      "pattern": "v*",
      "ruleset_name": "Release Tags Protection",
      "enforcement": "active",
      "bypass_actors": [
        {
          "actor_type": "Team",
          "actor_id": "release-managers",
          "bypass_mode": "always"
        }
      ],
      "conditions": {
        "ref_name": {
          "include": ["refs/tags/v*"],
          "exclude": ["refs/tags/v*-beta*", "refs/tags/v*-alpha*"]
        }
      },
      "rules": [
        {
          "type": "creation",
          "parameters": {
            "restricted_to": ["release-managers", "senior-developers"],
            "require_linear_history": true,
            "require_signatures": true
          }
        },
        {
          "type": "update",
          "parameters": {
            "allow_update": false
          }
        },
        {
          "type": "deletion",
          "parameters": {
            "allow_deletion": false
          }
        },
        {
          "type": "required_status_checks",
          "parameters": {
            "required_status_checks": [
              {
                "context": "Build and Test",
                "integration_id": null
              },
              {
                "context": "Security Scanning",
                "integration_id": null
              },
              {
                "context": "Docker Build",
                "integration_id": null
              }
            ],
            "strict_required_status_checks_policy": true
          }
        }
      ]
    },
    {
      "pattern": "v*-beta*",
      "ruleset_name": "Beta Release Tags",
      "enforcement": "active",
      "bypass_actors": [
        {
          "actor_type": "Team",
          "actor_id": "developers",
          "bypass_mode": "pull_request"
        }
      ],
      "conditions": {
        "ref_name": {
          "include": ["refs/tags/v*-beta*"]
        }
      },
      "rules": [
        {
          "type": "creation",
          "parameters": {
            "restricted_to": ["developers", "release-managers"],
            "require_signatures": false
          }
        },
        {
          "type": "update",
          "parameters": {
            "allow_update": false
          }
        },
        {
          "type": "deletion",
          "parameters": {
            "allow_deletion": true,
            "restricted_to": ["release-managers"]
          }
        }
      ]
    },
    {
      "pattern": "release-*",
      "ruleset_name": "Release Branch Tags",
      "enforcement": "active",
      "conditions": {
        "ref_name": {
          "include": ["refs/tags/release-*"]
        }
      },
      "rules": [
        {
          "type": "creation",
          "parameters": {
            "restricted_to": ["release-managers"],
            "require_signatures": true
          }
        },
        {
          "type": "update",
          "parameters": {
            "allow_update": false
          }
        },
        {
          "type": "deletion",
          "parameters": {
            "allow_deletion": false
          }
        }
      ]
    }
  ],
  "general_tag_settings": {
    "allow_contributors_to_create_tags": false,
    "allow_contributors_to_delete_tags": false,
    "require_conversation_resolution": true,
    "dismiss_stale_reviews_on_push": true,
    "require_code_owner_review": true
  }
}